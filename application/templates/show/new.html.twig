{% extends 'base.html.twig' %}

{% block title %}New Show{% endblock %}

{% block stylesheets %}
    <!--suppress CssUnusedSymbol -->
    <link href="/select2/css/select2.min.css?v={{ asset_version }}" rel="stylesheet">
    <style>
        /* Custom styling for Select2 to match Bootstrap theme */
        .select2-container--bootstrap-5 .select2-selection {
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            min-height: calc(1.5em + 0.75rem + 2px);
        }
        .select2-container--bootstrap-5 .select2-selection--multiple {
            padding: 0.25rem;
        }
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice {
            background-color: #0d6efd;
            border-color: #0d6efd;
            color: white;
            padding: 0.25rem 0.5rem;
            margin: 0.25rem;
            border-radius: 0.25rem;
        }
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice__remove {
            color: white;
            margin-right: 0.25rem;
        }
        /* Ensure search input has minimum width */
        .select2-container--bootstrap-5 .select2-search--inline .select2-search__field {
            min-width: 8ch !important;
            width: auto !important;
        }
        /* Remove disk icons from the select2 ul */
        ul.select2-selection__rendered {
            list-style-type: none;
        }
        /* Prevent overflow and ensure wrapping */
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__rendered {
            display: flex;
            flex-wrap: wrap;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            padding-left: 0 !important;
        }
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice {
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            flex-shrink: 1;
        }
        /* Remove padding that causes misalignment */
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__rendered li {
            margin-left: 0 !important;
        }
        /* Position clear button absolutely to not affect item flow */
        .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__clear {
            position: absolute;
            right: 0.5rem;
            bottom: 0.5rem;
            z-index: 10;
        }

        /* Dark mode styles for Select2 dropdown */
        @media (prefers-color-scheme: dark) {
            .select2-container--bootstrap-5 .select2-dropdown {
                background-color: #343a40;
                border-color: #495057;
            }
            .select2-container--bootstrap-5 .select2-results__option {
                background-color: #343a40;
                color: #dee2e6;
            }
            .select2-container--bootstrap-5 .select2-results__option--highlighted {
                background-color: #495057;
                color: #fff;
            }
            .select2-container--bootstrap-5 .select2-search--dropdown .select2-search__field {
                background-color: #495057;
                border-color: #6c757d;
                color: #dee2e6;
            }
        }
    </style>
{% endblock %}

{% block body %}

    {{ include('show/fragment/flashes.html.twig') }}

    <h1>Create new Show</h1>

    <div class="row">
        <div class="col-md-9">
            {{ include('show/_form.html.twig') }}
            <a class="btn btn-light" href="{{ path('admin_show_index') }}">Back to list</a>
        </div>
    </div>

{% endblock %}

{% block body_javascripts %}
    <script src="/select2/js/select2.min.js?v={{ asset_version }}"></script>
    <script src="/js/AdminShowForm.js?v={{ asset_version }}"></script>
{% endblock %}
